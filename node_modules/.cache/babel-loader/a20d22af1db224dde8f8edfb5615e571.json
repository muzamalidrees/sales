{"ast":null,"code":"var _jsxFileName = \"D:\\\\sales&stock\\\\sales\\\\src\\\\components\\\\pages\\\\AllUsers.jsx\";\nimport React, { Component } from 'react';\nimport { MDBDataTable, MDBCard, MDBCardHeader, MDBCardBody, MDBBtn, MDBIcon } from 'mdbreact';\nimport { Link } from 'react-router-dom';\nimport ViewOrderModal from './sections/ViewOrderModal';\nimport EditOrderModal from './sections/EditOrderModal';\nimport DeleteOrderModal from './sections/DeleteOrderModal';\n\nclass AllUsers extends Component {\n  constructor() {\n    super();\n\n    this.handleView = e => {\n      // console.log('view');\n      var iconClik = e.target.parentNode.parentNode.parentNode.parentNode;\n      var svgClik = e.target.parentNode.parentNode.parentNode;\n      var buttonClik = e.target.parentNode.parentNode;\n      var tdClik = e.target.parentNode;\n      var targt = e.target;\n\n      if (iconClik.rowIndex === undefined) {\n        iconClik = svgClik;\n      }\n\n      if (iconClik.rowIndex === undefined) {\n        iconClik = buttonClik;\n      }\n\n      if (iconClik.rowIndex === undefined) {\n        iconClik = tdClik;\n      }\n\n      if (iconClik.rowIndex === undefined) {\n        iconClik = targt;\n      }\n\n      let id = iconClik.cells[1].innerHTML;\n      this.refs.viewOrderModal.setState({\n        // orderId: id,\n        modalShow: true\n      });\n      this.refs.viewOrderModal.fetchData(id);\n    };\n\n    this.handleEdit = e => {\n      // console.log('edit');\n      var iconClik = e.target.parentNode.parentNode.parentNode.parentNode;\n      var svgClik = e.target.parentNode.parentNode.parentNode;\n      var buttonClik = e.target.parentNode.parentNode;\n      var tdClik = e.target.parentNode;\n      var targt = e.target;\n\n      if (iconClik.rowIndex === undefined) {\n        iconClik = svgClik;\n      }\n\n      if (iconClik.rowIndex === undefined) {\n        iconClik = buttonClik;\n      }\n\n      if (iconClik.rowIndex === undefined) {\n        iconClik = tdClik;\n      }\n\n      if (iconClik.rowIndex === undefined) {\n        iconClik = targt;\n      }\n\n      let id = iconClik.cells[1].innerHTML;\n      this.refs.editOrderModal.setState({\n        modalShow: true\n      });\n      this.refs.editOrderModal.fetchData(id);\n    };\n\n    this.handleDelete = e => {\n      var iconClik = e.target.parentNode.parentNode.parentNode.parentNode;\n      var svgClik = e.target.parentNode.parentNode.parentNode;\n      var buttonClik = e.target.parentNode.parentNode;\n      var tdClik = e.target.parentNode;\n      var targt = e.target;\n\n      if (iconClik.rowIndex === undefined) {\n        iconClik = svgClik;\n      }\n\n      if (iconClik.rowIndex === undefined) {\n        iconClik = buttonClik;\n      }\n\n      if (iconClik.rowIndex === undefined) {\n        iconClik = tdClik;\n      }\n\n      if (iconClik.rowIndex === undefined) {\n        iconClik = targt;\n      }\n\n      var i = iconClik.rowIndex;\n      let dRowValue = iconClik.cells[1].innerHTML;\n      this.refs.deleteOrderModal.setState({\n        modalShow: true,\n        rowToBeDeleted: i,\n        dRowValue: dRowValue\n      });\n    };\n\n    fetch('/getAllUsers').then(res => res.json()).then(json => {\n      console.log(json);\n\n      if (this._isMounted) {\n        this.setState({\n          users: json.data\n        });\n      }\n    }).catch(error => console.log(error));\n    this.state = {\n      users: []\n    };\n  }\n\n  render() {\n    var users = this.state.users;\n    var rows = [];\n    var index = 0;\n    users.forEach(user => {\n      index = index + 1;\n      rows.push({\n        index: index,\n        id: user.id,\n        name: user.name,\n        email: user.email,\n        cell: user.cell,\n        username: user.username,\n        password: user.password,\n        role_id: user.role_id,\n        buttons: React.createElement(React.Fragment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }, React.createElement(MDBBtn, {\n          style: {\n            fontSize\n          },\n          onClick: this.handleView,\n          className: \"m-1 p-1\",\n          outline: true,\n          color: \"info\",\n          size: \"sm\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131\n          },\n          __self: this\n        }, React.createElement(MDBIcon, {\n          icon: \"eye\",\n          className: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131\n          },\n          __self: this\n        }), \"view\"), React.createElement(MDBBtn, {\n          onClick: this.handleEdit,\n          className: \"m-1 p-1\",\n          outline: true,\n          color: \"teal\",\n          size: \"sm\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132\n          },\n          __self: this\n        }, React.createElement(MDBIcon, {\n          icon: \"pencil-alt\",\n          className: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132\n          },\n          __self: this\n        }), \"edit\"), React.createElement(MDBBtn, {\n          onClick: this.handleDelete,\n          className: \"m-1 p-1\",\n          outline: true,\n          color: \"red darken-3\",\n          size: \"sm\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133\n          },\n          __self: this\n        }, React.createElement(MDBIcon, {\n          icon: \"trash\",\n          className: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133\n          },\n          __self: this\n        }), \"delete\"))\n      });\n    });\n    var data = {\n      columns: [{\n        label: '#',\n        field: 'index'\n      }, {\n        label: 'Id',\n        field: 'id',\n        attributes: {\n          \"display\": \"none\"\n        }\n      }, {\n        label: 'Name',\n        field: 'name'\n      }, {\n        label: 'Email',\n        field: 'email'\n      }, {\n        label: 'Cell',\n        field: 'cell'\n      }, {\n        label: 'username',\n        field: 'username'\n      }, {\n        label: 'Role',\n        field: 'role_id'\n      }, {\n        label: 'Action',\n        field: 'buttons'\n      }],\n      rows: rows\n    };\n    return React.createElement(MDBCard, {\n      className: \" p-0\",\n      style: {\n        marginTop: '70px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(MDBCardHeader, {\n      tag: \"h4\",\n      className: \"text-center font-weight-bold\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, \"Users\"), React.createElement(MDBCardBody, {\n      className: \"p-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(MDBDataTable, {\n      id: \"ordersTable\",\n      striped: true,\n      small: true,\n      hover: true,\n      theadColor: \"teal\",\n      bordered: true,\n      btn: true,\n      entries: 12,\n      entriesOptions: [5, 10, 20, 35, 55, 70, 100, 135],\n      responsive: true,\n      data: data,\n      theadTextWhite: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }), React.createElement(ViewOrderModal, {\n      ref: \"viewOrderModal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }), React.createElement(EditOrderModal, {\n      ref: \"editOrderModal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }), React.createElement(DeleteOrderModal, {\n      ref: \"deleteOrderModal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default AllUsers;","map":{"version":3,"sources":["D:\\sales&stock\\sales\\src\\components\\pages\\AllUsers.jsx"],"names":["React","Component","MDBDataTable","MDBCard","MDBCardHeader","MDBCardBody","MDBBtn","MDBIcon","Link","ViewOrderModal","EditOrderModal","DeleteOrderModal","AllUsers","constructor","handleView","e","iconClik","target","parentNode","svgClik","buttonClik","tdClik","targt","rowIndex","undefined","id","cells","innerHTML","refs","viewOrderModal","setState","modalShow","fetchData","handleEdit","editOrderModal","handleDelete","i","dRowValue","deleteOrderModal","rowToBeDeleted","fetch","then","res","json","console","log","_isMounted","users","data","catch","error","state","render","rows","index","forEach","user","push","name","email","cell","username","password","role_id","buttons","fontSize","columns","label","field","attributes","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { MDBDataTable, MDBCard, MDBCardHeader, MDBCardBody, MDBBtn, MDBIcon } from 'mdbreact';\r\nimport { Link } from 'react-router-dom'\r\nimport ViewOrderModal from './sections/ViewOrderModal';\r\nimport EditOrderModal from './sections/EditOrderModal';\r\nimport DeleteOrderModal from './sections/DeleteOrderModal';\r\n\r\n\r\nclass AllUsers extends Component {\r\n    constructor() {\r\n        super();\r\n        fetch('/getAllUsers')\r\n            .then((res) => res.json())\r\n            .then((json) => {\r\n                console.log(json)\r\n                if (this._isMounted) {\r\n\r\n                    this.setState({ users: json.data })\r\n                }\r\n            })\r\n            .catch((error) => console.log(error))\r\n        this.state = {\r\n            users: []\r\n        }\r\n    }\r\n    handleView = (e) => {\r\n        // console.log('view');\r\n        var iconClik = e.target.parentNode.parentNode.parentNode.parentNode;\r\n        var svgClik = e.target.parentNode.parentNode.parentNode;\r\n        var buttonClik = e.target.parentNode.parentNode;\r\n        var tdClik = e.target.parentNode;\r\n        var targt = e.target\r\n\r\n        if (iconClik.rowIndex === undefined) {\r\n            iconClik = svgClik;\r\n        }\r\n        if (iconClik.rowIndex === undefined) {\r\n            iconClik = buttonClik;\r\n        }\r\n        if (iconClik.rowIndex === undefined) {\r\n            iconClik = tdClik;\r\n        }\r\n        if (iconClik.rowIndex === undefined) {\r\n            iconClik = targt;\r\n        }\r\n        let id = iconClik.cells[1].innerHTML\r\n        this.refs.viewOrderModal.setState({\r\n            // orderId: id,\r\n            modalShow: true\r\n        })\r\n        this.refs.viewOrderModal.fetchData(id);\r\n    }\r\n\r\n    handleEdit = (e) => {\r\n        // console.log('edit');\r\n        var iconClik = e.target.parentNode.parentNode.parentNode.parentNode;\r\n        var svgClik = e.target.parentNode.parentNode.parentNode;\r\n        var buttonClik = e.target.parentNode.parentNode;\r\n        var tdClik = e.target.parentNode;\r\n        var targt = e.target\r\n\r\n        if (iconClik.rowIndex === undefined) {\r\n            iconClik = svgClik;\r\n        }\r\n        if (iconClik.rowIndex === undefined) {\r\n            iconClik = buttonClik;\r\n        }\r\n        if (iconClik.rowIndex === undefined) {\r\n            iconClik = tdClik;\r\n        }\r\n        if (iconClik.rowIndex === undefined) {\r\n            iconClik = targt;\r\n        }\r\n        let id = iconClik.cells[1].innerHTML\r\n\r\n        this.refs.editOrderModal.setState({\r\n            modalShow: true\r\n        })\r\n        this.refs.editOrderModal.fetchData(id);\r\n\r\n    }\r\n\r\n    handleDelete = (e) => {\r\n        var iconClik = e.target.parentNode.parentNode.parentNode.parentNode;\r\n        var svgClik = e.target.parentNode.parentNode.parentNode;\r\n        var buttonClik = e.target.parentNode.parentNode;\r\n        var tdClik = e.target.parentNode;\r\n        var targt = e.target\r\n\r\n        if (iconClik.rowIndex === undefined) {\r\n            iconClik = svgClik;\r\n        }\r\n        if (iconClik.rowIndex === undefined) {\r\n            iconClik = buttonClik;\r\n        }\r\n        if (iconClik.rowIndex === undefined) {\r\n            iconClik = tdClik;\r\n        }\r\n        if (iconClik.rowIndex === undefined) {\r\n            iconClik = targt;\r\n        }\r\n        var i = iconClik.rowIndex;\r\n        let dRowValue = iconClik.cells[1].innerHTML\r\n\r\n        this.refs.deleteOrderModal.setState({\r\n            modalShow: true,\r\n            rowToBeDeleted: i,\r\n            dRowValue: dRowValue\r\n\r\n        })\r\n    }\r\n\r\n    render() {\r\n        var { users } = this.state;\r\n        var rows = [];\r\n        var index = 0;\r\n        users.forEach((user) => {\r\n\r\n            index = index + 1;\r\n            rows.push(\r\n                {\r\n                    index: index,\r\n                    id: user.id,\r\n                    name: user.name,\r\n                    email: user.email,\r\n                    cell: user.cell,\r\n                    username: user.username,\r\n                    password: user.password,\r\n                    role_id: user.role_id,\r\n                    buttons: <React.Fragment>\r\n                        <MDBBtn style={{fontSize}} onClick={this.handleView} className='m-1 p-1' outline color='info' size=\"sm\"><MDBIcon icon=\"eye\" className='' />view</MDBBtn>\r\n                        <MDBBtn onClick={this.handleEdit} className='m-1 p-1' outline color='teal' size=\"sm\"><MDBIcon icon=\"pencil-alt\" className='' />edit</MDBBtn>\r\n                        <MDBBtn onClick={this.handleDelete} className='m-1 p-1' outline color='red darken-3' size=\"sm\"><MDBIcon icon=\"trash\" className=\"\" />delete</MDBBtn>\r\n                    </React.Fragment>\r\n                }\r\n            );\r\n        });\r\n\r\n        var data = {\r\n            columns: [\r\n                { label: '#', field: 'index', }, {\r\n                    label: 'Id', field: 'id', attributes: {\r\n                        \"display\": \"none\"\r\n                    }\r\n                }, { label: 'Name', field: 'name' },\r\n                { label: 'Email', field: 'email', }, { label: 'Cell', field: 'cell', },\r\n                { label: 'username', field: 'username', }, { label: 'Role', field: 'role_id', },\r\n                { label: 'Action', field: 'buttons' }\r\n            ],\r\n            rows: rows\r\n        }\r\n        return (\r\n\r\n            <MDBCard className=' p-0' style={{ marginTop: '70px' }}>\r\n                <MDBCardHeader tag=\"h4\" className=\"text-center font-weight-bold\">\r\n                    Users\r\n                </MDBCardHeader>\r\n                <MDBCardBody className='p-2'>\r\n                    \r\n                    <MDBDataTable id='ordersTable' striped small hover theadColor=\"teal\"\r\n                        bordered btn entries={12} entriesOptions={[5, 10, 20, 35, 55, 70, 100, 135]} responsive\r\n                        data={data} theadTextWhite >\r\n                    </MDBDataTable>\r\n                    <ViewOrderModal\r\n                        ref='viewOrderModal'\r\n                    />\r\n                    <EditOrderModal\r\n                        ref='editOrderModal'\r\n                    />\r\n                    <DeleteOrderModal\r\n                        ref='deleteOrderModal'\r\n                    />\r\n                </MDBCardBody>\r\n            </MDBCard>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default AllUsers"]},"metadata":{},"sourceType":"module"}