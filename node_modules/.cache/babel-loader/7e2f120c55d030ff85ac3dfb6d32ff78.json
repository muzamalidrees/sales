{"ast":null,"code":"var _jsxFileName = \"D:\\\\sales&stock\\\\sales\\\\src\\\\components\\\\pages\\\\sections\\\\EditOrderModal.jsx\";\nimport React, { Component } from 'react';\nimport { MDBContainer, MDBBtn, MDBModal, MDBModalBody, MDBModalHeader, MDBModalFooter, MDBRow, MDBCol, MDBInput, MDBDataTable } from 'mdbreact';\nimport Select from 'react-select';\nimport CreateableSelect from './CreatableAdvancedSelect';\nimport OrderDetails from './OrderDetails';\nimport ProductsTable from './ProductsTable';\n\nclass EditOrderModal extends Component {\n  constructor(props) {\n    super(props);\n    this.order = '';\n\n    this.fetchData = id => {\n      fetch('/getSpecificOrder/' + id).then(res => res.json()).then(json => {\n        // console.log(json)\n        // this.order = json.data\n        var order = json.data;\n        this.setState({\n          order: order,\n          orderTotal: order.total,\n          totalValueAdded: order.total_value_added,\n          orderSource: order.source,\n          orderStatus: order.status,\n          orderTracking: order.tracking_id,\n          orderNote: order.note,\n          cName: order.customer_name,\n          cContact: order.customer_contact,\n          cAddress: order.customer_address\n        });\n      }).catch(error => console.log(error));\n      fetch('/getAllOrderDetails/' + id).then(res => res.json()).then(json => {\n        // console.log(json)\n        json.data.map(x => {\n          delete x.createdAt;\n          delete x.updatedAt;\n          delete x.deletedAt;\n          delete x.id;\n          delete x.order_id;\n        });\n        this.setState({\n          orderDetails: json.data\n        });\n      }).catch(error => console.log(error));\n    };\n\n    this.toggle = () => {\n      this.setState({\n        modalShow: !this.state.modalShow\n      });\n    };\n\n    this.handleInput = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.state = {\n      modalShow: false,\n      order: '',\n      orderTotal: 0,\n      totalValueAdded: 0,\n      orderSource: '',\n      orderStatus: '',\n      orderTracking: '',\n      orderNote: '',\n      cName: '',\n      cContact: '',\n      cAddress: ''\n    };\n  }\n\n  render() {\n    // console.log(this.state.order);\n    // var { order, orderDetails } = this.state;\n    // var data = {\n    //     columns: [\n    //         { label: 'Name', field: 'product_name' },\n    //         { label: 'SKU', field: 'product_sku' }, { label: 'Rate', field: 'product_rate' },\n    //         { label: 'QTY', field: 'product_qty' }, { label: 'Price', field: 'product_price' },\n    //         { label: 'Remarks', field: 'product_remarks' }, { label: 'Extra Added', field: 'product_extra_added' },\n    //     ],\n    //     rows: orderDetails\n    // }\n    return React.createElement(MDBContainer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(MDBModal, {\n      isOpen: this.state.modalShow,\n      toggle: this.toggle,\n      size: \"lg\",\n      centered: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(MDBModalHeader, {\n      toggle: this.toggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Order details\"), React.createElement(MDBModalBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(OrderDetails, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }), React.createElement(ProductsTable, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    })), React.createElement(MDBModalFooter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(MDBBtn, {\n      color: \"secondary\",\n      onClick: this.toggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, \"Close\"), React.createElement(MDBBtn, {\n      outline: true,\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, \"Save changes\"))));\n  }\n\n}\n\nexport default EditOrderModal;","map":{"version":3,"sources":["D:\\sales&stock\\sales\\src\\components\\pages\\sections\\EditOrderModal.jsx"],"names":["React","Component","MDBContainer","MDBBtn","MDBModal","MDBModalBody","MDBModalHeader","MDBModalFooter","MDBRow","MDBCol","MDBInput","MDBDataTable","Select","CreateableSelect","OrderDetails","ProductsTable","EditOrderModal","constructor","props","order","fetchData","id","fetch","then","res","json","data","setState","orderTotal","total","totalValueAdded","total_value_added","orderSource","source","orderStatus","status","orderTracking","tracking_id","orderNote","note","cName","customer_name","cContact","customer_contact","cAddress","customer_address","catch","error","console","log","map","x","createdAt","updatedAt","deletedAt","order_id","orderDetails","toggle","modalShow","state","handleInput","e","target","name","value","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { MDBContainer, MDBBtn, MDBModal, MDBModalBody, MDBModalHeader, MDBModalFooter, MDBRow, MDBCol, MDBInput, MDBDataTable } from 'mdbreact';\r\nimport Select from 'react-select';\r\nimport CreateableSelect from './CreatableAdvancedSelect';\r\nimport OrderDetails from './OrderDetails';\r\nimport ProductsTable from './ProductsTable'\r\n\r\nclass EditOrderModal extends Component {\r\n    order = '';\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            modalShow: false,\r\n            order: '',\r\n            orderTotal: 0,\r\n            totalValueAdded: 0,\r\n            orderSource: '',\r\n            orderStatus: '',\r\n            orderTracking: '',\r\n            orderNote: '',\r\n            cName: '',\r\n            cContact: '',\r\n            cAddress: '',\r\n        }\r\n    }\r\n    fetchData = (id) => {\r\n\r\n        fetch('/getSpecificOrder/' + id)\r\n            .then((res) => res.json())\r\n            .then((json) => {\r\n                // console.log(json)\r\n                // this.order = json.data\r\n                var order = json.data\r\n                this.setState({\r\n                    order: order,\r\n                    orderTotal: order.total,\r\n                    totalValueAdded: order.total_value_added,\r\n                    orderSource: order.source,\r\n                    orderStatus: order.status,\r\n                    orderTracking: order.tracking_id,\r\n                    orderNote: order.note,\r\n                    cName: order.customer_name,\r\n                    cContact: order.customer_contact,\r\n                    cAddress: order.customer_address\r\n                })\r\n            })\r\n            .catch((error) => console.log(error))\r\n\r\n        fetch('/getAllOrderDetails/' + id)\r\n            .then((res) => res.json())\r\n            .then((json) => {\r\n                // console.log(json)\r\n                json.data.map((x) => {\r\n                    delete x.createdAt;\r\n                    delete x.updatedAt;\r\n                    delete x.deletedAt;\r\n                    delete x.id;\r\n                    delete x.order_id;\r\n                });\r\n                this.setState({\r\n                    orderDetails: json.data\r\n                })\r\n\r\n            })\r\n            .catch((error) => console.log(error))\r\n    }\r\n\r\n    toggle = () => {\r\n        this.setState({\r\n            modalShow: !this.state.modalShow,\r\n\r\n        });\r\n    }\r\n    handleInput = e => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    render() {\r\n        // console.log(this.state.order);\r\n\r\n        // var { order, orderDetails } = this.state;\r\n\r\n        // var data = {\r\n        //     columns: [\r\n        //         { label: 'Name', field: 'product_name' },\r\n        //         { label: 'SKU', field: 'product_sku' }, { label: 'Rate', field: 'product_rate' },\r\n        //         { label: 'QTY', field: 'product_qty' }, { label: 'Price', field: 'product_price' },\r\n        //         { label: 'Remarks', field: 'product_remarks' }, { label: 'Extra Added', field: 'product_extra_added' },\r\n        //     ],\r\n        //     rows: orderDetails\r\n        // }\r\n        return (\r\n            <MDBContainer>\r\n                <MDBModal isOpen={this.state.modalShow} toggle={this.toggle} size='lg' centered>\r\n                    <MDBModalHeader toggle={this.toggle}>Order details</MDBModalHeader>\r\n                    <MDBModalBody>\r\n                        <OrderDetails />\r\n                        <ProductsTable />\r\n                        {/* <MDBRow center>\r\n                            <MDBCol md=\"9\" className='m-0 p-0'>\r\n                                <MDBRow center className='m-0 p-0' >\r\n                                    <MDBCol sm='6' className='m-0'>\r\n                                        <MDBInput value={this.state.orderTotal} label=\"Total\" hint=\"Total\" disabled className='m-0' style={{ fontWeight: 'bold' }} />\r\n                                    </MDBCol>\r\n                                    <MDBCol sm='6' className='m-0'>\r\n                                        <MDBInput value={this.state.totalValueAdded} className='m-0' style={{ fontWeight: 'bold' }} label=\"Total value added\" hint=\"Total value added\" disabled />\r\n                                    </MDBCol>\r\n                                </MDBRow>\r\n                                <MDBRow center className='m-0 p-0' >\r\n                                    <MDBCol sm='4' className='m-0 ' >\r\n                                        <MDBInput value={order.id} label=\"Id\" outline disabled className='mt-0 mb-0' />\r\n                                    </MDBCol>\r\n                                    <MDBCol md='4' className=' ' middle >\r\n                                        <React.Fragment>\r\n                                            <Select\r\n                                                styles={customStyles}\r\n                                                value={orderSource}\r\n                                                onChange={this.handleSelectChange}\r\n                                                options={sourceOptions}\r\n                                                placeholder='Source'\r\n                                                isSearchable\r\n                                                className='my-auto'\r\n                                                isClearable\r\n                                            />\r\n                                        </React.Fragment>\r\n                                    </MDBCol>\r\n                                    <MDBCol md='4' className='m-0 ' middle >\r\n                                        <React.Fragment>\r\n                                            <CreateableSelect\r\n                                                ref='createableSelect'\r\n                                                orderStatus={this.orderStatus}\r\n                                                isValidStatus={isValidStatus}\r\n                                            />\r\n                                        </React.Fragment>\r\n                                    </MDBCol>\r\n                                </MDBRow>\r\n                                <MDBRow center className='m-0 p-0' >\r\n                                    <MDBCol sm='4' className='m-0 '>\r\n                                        <MDBInput label=\"Tracking Id\" value={order.tracking_id} name=\"orderTracking\" onInput={this.handleInput} outline className='m-0' />\r\n                                    </MDBCol>\r\n                                    <MDBCol sm='8' className='m-0 '>\r\n                                        <MDBInput label=\"Note\" value={order.note} name=\"orderNote\" onInput={this.handleInput} outline className='m-0' />\r\n                                    </MDBCol>\r\n                                </MDBRow>\r\n                                <MDBRow className='m-0 p-0' end>\r\n                                    <MDBCol sm='12' className='m-0 p-0' bottom >\r\n                                        <label style={{ fontWeight: 'bold', textAlign: 'left' }}>Customer:</label>\r\n                                    </MDBCol>\r\n                                </MDBRow>\r\n                                <MDBRow className='m-0 p-0'>\r\n                                    <MDBCol sm='3' className='m-0'>\r\n                                        <MDBInput value={this.state.cName} onInput={this.handleInput} name=\"cName\" className='m-0' label=\"Name\" outline required />\r\n                                    </MDBCol>\r\n                                    <MDBCol sm='3' className='m-0'>\r\n                                        <MDBInput value={this.state.cContact} onInput={this.handleInput} name=\"cContact\" className='m-0' label=\"Contact\" outline required />\r\n                                    </MDBCol>\r\n                                    <MDBCol sm='6' className='m-0'>\r\n                                        <MDBInput value={this.state.cAddress} onInput={this.handleInput} name=\"cAddress\" className='m-0' label=\"Address\" outline required />\r\n                                    </MDBCol>\r\n\r\n                                </MDBRow>\r\n                                <MDBRow className='m-0 p-0' end>\r\n                                    <MDBCol sm='12' className='m-0 p-0' bottom >\r\n                                        <label style={{ fontWeight: 'bold', textAlign: 'left' }}>Products:</label>\r\n                                    </MDBCol>\r\n                                </MDBRow>\r\n                                <MDBDataTable id='viewOrdersTable' striped small theadColor=\"teal\"\r\n                                    bordered entries={10} entriesOptions={[5, 10, 20]} responsive\r\n                                    data={data} theadTextWhite >\r\n                                </MDBDataTable>\r\n\r\n\r\n                            </MDBCol>\r\n                        </MDBRow> */}\r\n                    </MDBModalBody>\r\n                    <MDBModalFooter>\r\n                        <MDBBtn color=\"secondary\" onClick={this.toggle}>Close</MDBBtn>\r\n                        <MDBBtn outline color=\"primary\">Save changes</MDBBtn>\r\n                    </MDBModalFooter>\r\n                </MDBModal>\r\n            </MDBContainer>\r\n        );\r\n    }\r\n}\r\n\r\nexport default EditOrderModal;"]},"metadata":{},"sourceType":"module"}