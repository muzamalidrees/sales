{"ast":null,"code":"var _jsxFileName = \"D:\\\\sales&stock\\\\sales\\\\src\\\\components\\\\pages\\\\Home.jsx\";\nimport React from 'react';\nimport ProductsTable from './sections/ProductsTable';\nimport OrderDetails from './sections/OrderDetails';\nimport AllOrdersTable from './sections/AllOrdersTable';\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.deleteProduct = (price, i, pChecked) => {\n      this.refs.orderDetails.setValue('orderTotal', price);\n\n      if (pChecked === 'Yes') {\n        this.refs.orderDetails.setValue('totalValueAdded', price);\n      }\n\n      let table = document.getElementById('productsTable');\n      table.deleteRow(i);\n\n      if (table.rows.length === 1) {\n        this.refs.productsTable.setState({\n          submitOrderBtn: false\n        });\n      }\n    };\n\n    this.addProductToTbl = (pName, pSKU, pRate, pQTY, pPrice, pRemarks, pChecked) => {\n      this.refs.productsTable.addProductToTbl(pName, pSKU, pRate, pQTY, pPrice, pRemarks, pChecked);\n    };\n\n    this.saveOrderToDB = () => {\n      this.refs.orderDetails.saveOrderToDB();\n    };\n\n    this.saveOrderDetailsToDB = (pName, pSKU, pRate, pQTY, pPrice, pRemarks, pChecked) => {\n      let orderId = this.orderId.value;\n      let orderDetails = {\n        order_id: orderId,\n        pName: pName,\n        pSKU: pSKU,\n        pRate: pRate,\n        pQTY: pQTY,\n        pPrice: pPrice,\n        pRemarks: pRemarks,\n        pChecked: pChecked\n      };\n      var options = {\n        method: 'POST',\n        body: JSON.stringify(orderDetails),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      };\n      fetch('/addNewOrderDetails', options).then(res => res.json()).then(json => {// console.log(json)\n      }).catch(error => console.log(error)); // console.log(pName, pSKU, pRate, pQTY, pPrice, pRemarks, pChecked)\n\n      this.refs.orderDetails.setTotalValue(pPrice);\n\n      if (pChecked === 'Yes') {\n        this.refs.orderDetails.setTotalValueAdded(pPrice);\n      }\n    };\n\n    this.checkOrderDetailsValidity = () => {\n      var orderDetailsValidity = this.refs.orderDetails.orderDetailsValidity();\n\n      if (!orderDetailsValidity) {\n        return false;\n      } else if (this.customerForm.checkValidity() === false) {\n        this.customerForm.classList.add('was-validated');\n        return false;\n      } else {\n        return true;\n      }\n    };\n\n    this.state = {};\n    this.addProductToTbl = this.addProductToTbl.bind(this);\n    this.deleteProduct = this.deleteProduct.bind(this);\n    this.saveOrderDetailsToDB = this.saveOrderDetailsToDB.bind(this);\n    this.saveOrderToDB = this.saveOrderToDB.bind(this);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"row\",\n      style: {\n        marginTop: '70px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(OrderDetails, {\n      ref: \"orderDetails\",\n      orderId: el => this.orderId = el,\n      orderForm: el => this.orderForm = el,\n      customerForm: el => this.customerForm = el,\n      addProductToTbl: this.addProductToTbl,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), React.createElement(ProductsTable, {\n      ref: \"productsTable\",\n      deleteProduct: this.deleteProduct,\n      saveOrderDetailsToDB: this.saveOrderDetailsToDB,\n      saveOrderToDB: this.saveOrderToDB,\n      checkOrderDetailsValidity: this.checkOrderDetailsValidity,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(AllOrdersTable, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["D:\\sales&stock\\sales\\src\\components\\pages\\Home.jsx"],"names":["React","ProductsTable","OrderDetails","AllOrdersTable","Home","Component","constructor","props","deleteProduct","price","i","pChecked","refs","orderDetails","setValue","table","document","getElementById","deleteRow","rows","length","productsTable","setState","submitOrderBtn","addProductToTbl","pName","pSKU","pRate","pQTY","pPrice","pRemarks","saveOrderToDB","saveOrderDetailsToDB","orderId","value","order_id","options","method","body","JSON","stringify","headers","fetch","then","res","json","catch","error","console","log","setTotalValue","setTotalValueAdded","checkOrderDetailsValidity","orderDetailsValidity","customerForm","checkValidity","classList","add","state","bind","render","marginTop","el","orderForm"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ProductsTable from './sections/ProductsTable';\nimport OrderDetails from './sections/OrderDetails';\nimport AllOrdersTable from './sections/AllOrdersTable';\n\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n\n    };\n    this.addProductToTbl = this.addProductToTbl.bind(this);\n    this.deleteProduct = this.deleteProduct.bind(this);\n    this.saveOrderDetailsToDB = this.saveOrderDetailsToDB.bind(this);\n    this.saveOrderToDB = this.saveOrderToDB.bind(this);\n  }\n\n  deleteProduct = (price, i, pChecked) => {\n\n    this.refs.orderDetails.setValue('orderTotal', price);\n    if (pChecked === 'Yes') {\n      this.refs.orderDetails.setValue('totalValueAdded', price);\n    }\n    let table = document.getElementById('productsTable');\n    table.deleteRow(i);\n    if (table.rows.length === 1) {\n      this.refs.productsTable.setState({ submitOrderBtn: false })\n    }\n  }\n\n  addProductToTbl = (pName, pSKU, pRate, pQTY, pPrice, pRemarks, pChecked) => {\n    this.refs.productsTable.addProductToTbl(pName, pSKU, pRate, pQTY, pPrice, pRemarks, pChecked);\n  }\n  saveOrderToDB = () => {\n    this.refs.orderDetails.saveOrderToDB();\n  }\n  saveOrderDetailsToDB = (pName, pSKU, pRate, pQTY, pPrice, pRemarks, pChecked) => {\n\n    let orderId = this.orderId.value;\n    let orderDetails = { order_id: orderId, pName: pName, pSKU: pSKU, pRate: pRate, pQTY: pQTY, pPrice: pPrice, pRemarks: pRemarks, pChecked: pChecked }\n    var options = {\n      method: 'POST',\n      body: JSON.stringify(orderDetails),\n      headers: { 'Content-Type': 'application/json' }\n    }\n    fetch('/addNewOrderDetails', options)\n      .then((res) => res.json())\n      .then((json) => {\n        // console.log(json)\n      })\n      .catch((error) => console.log(error))\n    // console.log(pName, pSKU, pRate, pQTY, pPrice, pRemarks, pChecked)\n    this.refs.orderDetails.setTotalValue(pPrice);\n    if (pChecked === 'Yes') {\n      this.refs.orderDetails.setTotalValueAdded(pPrice);\n    }\n  }\n\n  checkOrderDetailsValidity = () => {\n    var orderDetailsValidity = this.refs.orderDetails.orderDetailsValidity();\n    if (!orderDetailsValidity) {\n      return false;\n    }\n    else if (this.customerForm.checkValidity() === false) {\n      this.customerForm.classList.add('was-validated');\n      return false;\n    }\n    else {\n      return true;\n    }\n\n  }\n\n  render() {\n\n    return (\n      <div className=\"row\" style={{ marginTop: '70px' }}>\n        <OrderDetails\n          ref='orderDetails'\n          orderId={el => (this.orderId = el)}\n          orderForm={el => (this.orderForm = el)}\n          customerForm={el => (this.customerForm = el)}\n          addProductToTbl={this.addProductToTbl}\n        />\n        <div className='col' />\n        <ProductsTable\n          ref='productsTable'\n          deleteProduct={this.deleteProduct}\n          saveOrderDetailsToDB={this.saveOrderDetailsToDB}\n          saveOrderToDB={this.saveOrderToDB}\n          checkOrderDetailsValidity={this.checkOrderDetailsValidity}\n        />\n        {/* <div className='col mt-4'> */}\n          <AllOrdersTable\n\n          />\n        {/* </div> */}\n        <div className='col' />\n\n      </div>\n    );\n  }\n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}